(function(r,e){typeof exports=="object"&&typeof module!="undefined"?e(exports):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,e(r.BrowserCache={}))})(this,function(r){"use strict";var b=Object.defineProperty,j=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var d=(r,e,s)=>e in r?b(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s,n=(r,e)=>{for(var s in e||(e={}))D.call(e,s)&&d(r,s,e[s]);if(g)for(var s of g(e))O.call(e,s)&&d(r,s,e[s]);return r},f=(r,e)=>j(r,y(e));var a=(r,e,s)=>(d(r,typeof e!="symbol"?e+"":e,s),s);var e={driver:"memcache"};class s{}class h extends s{}a(h,"driver","memcache");const c={};for(const t of[h])c[t.driver]=t;const l={},m=t=>{if(Object.getPrototypeOf(t)===s)if(t.driver&&typeof t.driver=="string")l[t.driver]=t;else throw new Error("please input the driver name.")},u=()=>{let t=["memcache"];return window.localStorage&&c.localStorage&&t.push("localStorage"),window.sessionStorage&&c.sessionStorage&&t.push("sessionStorage"),window.document.cookie&&c.cookie&&t.push("cookie"),window.indexedDB&&c.indexedDB&&t.push("indexedDB"),t=t.concat(Object.keys(l)),t},v=t=>c[t]||l[t];class p{constructor(o,i){a(this,"opts");a(this,"__init",!1);a(this,"driver");a(this,"store");const S=u();if(!o&&!i)i=n({},e);else if(o)if(S.includes(o))Object.prototype.toString.call(i)==="[object Object]"?i=n(f(n({},e),{driver:o}),i):i=f(n({},e),{driver:o});else if(Object.prototype.toString.call(o)==="[object Object]"&&S.includes(o.driver))i=n(n({},e),o);else throw new Error("please input the correct driver param as the first param or in the opts params.");else throw new Error("please input the driver as first param.");if(i&&i.driver)this.opts=i,this.initDriver(),this.__init=!0;else throw new Error("please input the driver as first param.")}initDriver(){const o=u();if(!this.store&&this.opts&&this.opts.driver&&o.includes(this.opts.driver)){const i=v(this.opts.driver);this.store=new i(this.opts)}}get(o){}}const w=new p;console.log(w),r.BaseStore=s,r.BrowserCache=p,r.default=w,r.registerStore=m,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
